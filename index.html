<!DOCTYPE html>
<html lang="rw">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mucyo Family Bakery | Ahabanza</title>
  <link rel="icon" href="images/logo.png" />
  <style>
    /* Basic */
    body { font-family: 'Poppins', sans-serif; margin:0; padding:0; background:#fffaf3; color:#322e2e; }
    header{ background:#f1a72e; color:white; padding:15px 30px; display:flex; justify-content:space-between; align-items:center; }
    header h1{ display:flex; gap:10px; align-items:center; margin:0; font-size:20px; font-weight:700; }
    header h1 img { width:40px; height:40px; border-radius:50%; object-fit:cover; }
    nav ul{ display:flex; gap:18px; list-style:none; margin:0; padding:0; }
    nav a{ color:white; text-decoration:none; font-weight:600; }
    .hero{ background: url('images/bakery-bg.jpg') center/cover no-repeat; text-align:center; padding:100px 20px; color:white; background-color: rgba(112,106,106,0.5); }
    .hero h2{ font-size:36px; margin:0 0 10px; text-shadow:2px 2px 4px rgba(0,0,0,0.4); }
    .hero p{ margin:0 0 20px; font-size:16px; }
    .btn{ background:#f5c16c; color:white; padding:10px 20px; border-radius:28px; border:none; cursor:pointer; font-weight:600; }
    .products{ padding:50px 30px; text-align:center; }
    .product-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:20px; margin-top:20px; }
    .product{ background:#f0efef; padding:14px; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.05); }
    footer{ background:#969492; color:#efe9e9; text-align:center; padding:18px 10px; margin-top:30px; }
    /* Modal */
    .overlay{ display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:50; }
    #signup { display:none; position:fixed; z-index:60; left:50%; top:50%; transform:translate(-50%,-50%); width:340px; background:#fff; border-radius:12px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,0.2); }
    #signup h3{ margin:0 0 8px; color:#f06d00; }
    #signup input{ width:100%; padding:10px; margin-top:8px; border-radius:8px; border:1px solid #ddd; font-size:14px; }
    #signup .small{ font-size:13px; color:#666; margin-top:8px; }
    #closeModal{ position:absolute; right:10px; top:8px; background:transparent; border:none; font-size:20px; cursor:pointer; }
    @media (max-width:600px){ .hero h2{ font-size:26px; } }
  </style>
</head>
<body>
  <header>
    <h1>
      <img src="images/logo.png" alt="logo">
      MUCYO FAMILY BAKERY
    </h1>
    <nav>
      <ul>
        <li><a href="index.html">Ahabanza</a></li>
        <li><a href="products.html">Ibicuruzwa</a></li>
        <li><a href="about.html">Abo turi bo</a></li>
        <li><a href="contact.html">Tuvugishe</a></li>
        <li><a href="cart.html">Ibyaguzwe</a></li>
      </ul>
    </nav>
  </header>
  <section class="hero">
    <h2>Gira kurya neza,maze ugire ubuzima bwiza   üçû</h2>
    <p>Gura imigati, cake & cupcake byiza ‚Äî wishyurwe ukoresheje Mobile Money, tukuzanire iwawe murugo.</p>

    <!-- Button to open signup modal -->
    <button class="btn" id="openAccountBtn">FUNGURA KONTI / INJIRA MURI KONTI</button>
  </section>

  <section class="products">
    <h3>Ibicuruzwa byacu</h3>
    <div class="product-grid">
      <div class="product"><img src="images/manstand.jpg" alt="" style="width:100%;height:140px;object-fit:cover;border-radius:8px;"><h4>Migati ishyushye</h4><p style="color:#f5a623;font-weight:700">2000 RWF</p></div>
      <div class="product"><img src="images/keke.jpg" alt="" style="width:100%;height:140px;object-fit:cover;border-radius:8px;"><h4>Cake y'urukundo</h4><p style="color:#f5a623;font-weight:700">15,000 RWF</p></div>
      <div class="product"><img src="images/amandazi.jpg" alt="" style="width:100%;height:140px;object-fit:cover;border-radius:8px;"><h4>Amandazi meza</h4><p style="color:#f5a623;font-weight:700">1500 RWF</p></div>
    </div>
  </section>

  <!-- Overlay and Modal -->
  <div class="overlay" id="overlay"></div>

  <div id="signup" aria-hidden="true">
    <button id="closeModal" aria-label="Close">&times;</button>
    <h3>Fungura konti / injira muri konti</h3>
    <label for="phone">Nimero ya telefoni</label>
    <input id="phone" placeholder="+2507xxxxxxx" inputmode="tel" />
    <button class="btn" id="sendOtpBtn" style="margin-top:12px; width:100%;">Ohereza kode (OTP)</button>

    <div id="otp-area" style="display:none;">
      <label for="otp">Andika kode wakiriye</label>
      <input id="otp" placeholder="Urugero: 482931" inputmode="numeric" />
      <button class="btn" id="verifyOtpBtn" style="margin-top:12px; width:100%;">Emeza kode</button>
      <p class="small">Demo: andika <strong>123456</strong> nka OTP mu igerageza.</p>
    </div>
  </div>

  <footer>
    <p>üìû 0788658547 | ‚úâÔ∏è mucyofamilybakery@gmail.com</p>
    <p>¬© 2025 Mucyo Family Bakery ‚Äî All Rights Reserved</p>
  </footer>

  <script>
    /* Frontend demo auth flow (frontend-only) */
    const openBtn = document.getElementById('openAccountBtn');
    const overlay = document.getElementById('overlay');
    const signup = document.getElementById('signup');
    const closeModal = document.getElementById('closeModal');
    const sendOtpBtn = document.getElementById('sendOtpBtn');
    const verifyOtpBtn = document.getElementById('verifyOtpBtn');

    function openModal() { signup.style.display='block'; overlay.style.display='block'; signup.setAttribute('aria-hidden','false'); }
    function closeModalFn(){ signup.style.display='none'; overlay.style.display='none'; signup.setAttribute('aria-hidden','true'); document.getElementById('otp-area').style.display='none'; }

    openBtn.addEventListener('click', openModal);
    closeModal.addEventListener('click', closeModalFn);
    overlay.addEventListener('click', closeModalFn);

    // helper token functions
    function saveToken(token) { localStorage.setItem('authToken', token); }
    function isLoggedIn() { return !!localStorage.getItem('authToken'); }

    // send OTP (demo)
    sendOtpBtn.addEventListener('click', () => {
      const phone = document.getElementById('phone').value.trim();
      if (!phone) { alert('Andika nimero ya telefoni mbere!'); return; }
      // In production: call backend /api/auth/send_otp
      alert(`(Demo) Kode yoherejwe kuri ${phone}. Andika 123456 nk'OTP muri demo.`);
      document.getElementById('otp-area').style.display = 'block';
    });

    // verify OTP (demo)
    verifyOtpBtn.addEventListener('click', () => {
      const otp = document.getElementById('otp').value.trim();
      if (!otp) { alert('Andika kode wakiriye mbere yo gukomeza!'); return; }
      if (otp === '123456') {
        // In production: call /api/auth/verify_otp to get token
        const fakeToken = 'demo-token-' + Date.now();
        saveToken(fakeToken);
        alert('OTP yemejwe ‚Äî ubu winjiye! Ujyanywe kuri page y\'ibicuruzwa.');
        window.location.href = 'products.html';
      } else {
        alert("OTP siyo. Muri demo andika '123456'.");
      }
    });

    // If logged in, optionally show quick redirect (commented)
    // if (isLoggedIn()) window.location.href = 'products.html';
  </script>
</body>
</html>
